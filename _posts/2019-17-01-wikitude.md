---
layout: post
title:  "Wikitude - Final choice for the project"
author: kyrretl
date:   2019-01-17 18:15:00
categories: AR web WebXR javascript
---

![Concept sketch for the final AR prototype](https://scriptotek.github.io/ar-project/assets/sketch.jpg "Concept sketch for the final AR prototype")
Testing of Wikitude and development of final prototype
<!-- more -->

## Testing Wikitude as platform and fleshing out the prototype

After reviewing six different AR-platforms and testing most of them ([see here for details](https://scriptotek.github.io/ar-project/)), we decided on Wikitude and started the process of fleshing out a prototype based on the possibilities and limitations of the chosen platform.

### Initial experiences with Wikitude

We wanted to offer both `*wayfinding*` - locating books on the shelves in the library - and `*metadata*` - extending the information you can get from a book with AR.

#### Wayfinding
The first functionality we looked into when testing Wikitude was wayfinding, and with the main purpose of location books *inside* a library, we needed good support for *indoor wayfinding*.

As of 2018 the possibilties for using mobile phones for indoor wayfinding or localizing is unfortunately still quite limited. GPS-sattelites do not penetrate the insides of buildings and adapting wifi-networks usually yield low precision (with error margins of several meters often placing the user in a different room). Solutions require specialized beacons, specialized wifi-points or other third party technologies, taking time and resources to implement.
We wanted to see if we could offer wayfinding without the costly and time consuming alternatives, ideally only requiring a phone.

Wikitude offer different of rcognizing objects in the environment or the environment itself:

* Scene reconition
  * Images of large (mainly outdoor) scenes. 
* Image recognition
  * Image recognition recognizes specific images, signs, banners and so on in the real world.
* Object recogntion
  * A video or series of pictures of a real world physical object



#### Scene recognition test

We wanted first to see if we could use the scene recognition approach for wayfinding. We hoped we could take multiple images of the library rooms, halls, shelves, staircases, the reception, etc, and use these images to let the prototype app recognize where the user is at any time.

We did preliminary tests using shots of the office and some shelves nearby to get a sense of how well scence recognition would work with wayfinding. Below is an example of a typical library setting, and the prototype is displaying an arrow guiding the user to a specific collection.

![Testing of wayfinding inside the library](https://scriptotek.github.io/ar-project/assets/wayfinding_scene_test.png "Testing of wayfinding inside the library")

For the prototype to be able to recongize a scene such as the one above, we took multiple overlapping shots of the room from different angles (around 20 images). The issues we faced were that the scene failed to be recognized more often than not making the guiding arrow disappear or jitter. This happened either if you moved about and stood at an angle where no pictures were taken of the scene, or if the scene itself changed. As seen in the image above, there are moving elements in a library that could potentially change the scene, we have a touch table on wheels, exhibition shelves that change content, a user sitting in a moveable chair, etc, and at any time there will be users standing/moving about obscuring the scene. We found the scene recognition solutuion to be untenable due to the instability of detection which unfortunately was not very surprising since scence recognition is meant to be used outside on large buildings that don't change or get obscured.

#### Image recognition test

Since we couldn't get scene recogntition to work reliably, we had to resort to image recogntion with specific target images that users to wouch have to get up close to scan.

![Testing of wayfinding inside the library](https://scriptotek.github.io/ar-project/assets/wayfinding_image_test.png "Testing of wayfinding inside the library")

